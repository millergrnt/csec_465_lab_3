/*
 * File:        dns_enum.ps
 * Author:      Grant Miller <gem1086@rit.edu>
 * Description: Enumerates a file that contains a series of fqdn to query
*/

param(
    [string]$file = "./dns_names.txt"
)

function dns_enum([string]$file){

    foreach($line in Get-Content -Path $file){
        Write-Host "Querying $line..."
        $response = Resolve-DnsName -Name $line
        Write-Host $response
    }
}

if(-not $file){
    ThrowError "File must be supplied"
}
dns_enum $file